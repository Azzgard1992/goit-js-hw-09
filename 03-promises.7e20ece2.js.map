{"version":3,"sources":["js/03-promises.js"],"names":["form","document","querySelector","onClickBtn","e","preventDefault","position","delay","Number","currentTarget","value","step","amount","setInterval","setTimeout","createPromise","then","console","log","catch","promise","Promise","resolve","reject","Math","random","addEventListener"],"mappings":";AAAA,MAAMA,EAAOC,SAASC,cAAc,SAIpC,SAASC,EAAWC,GAClBA,EAAEC,iBAEEC,IAAAA,EAAW,EACXC,EAAQC,OAAOJ,EAAEK,cAAcF,MAAMG,OACrCC,EAAOH,OAAOJ,EAAEK,cAAcE,KAAKD,OACnCE,EAASJ,OAAOJ,EAAEK,cAAcG,OAAOF,OAE3CG,YAAY,KACNP,GAAYM,IAGhBN,GAAY,EAEZQ,WAAW,KACTP,GAASI,IAGXI,EAAcT,EAAUC,GACrBS,KAAK,EAAGV,SAAAA,EAAUC,MAAAA,MACjBU,QAAQC,2BAA2BZ,QAAeC,SAEnDY,MAAM,EAAGb,SAAAA,EAAUC,MAAAA,MAClBU,QAAQC,0BAA0BZ,QAAeC,WAEpDI,GAGL,SAASI,EAAcT,EAAUC,GAaxBa,OAZS,IAAIC,QAAQ,CAACC,EAASC,KACpCT,WAAW,KACaU,KAAKC,SAAW,GAGpCH,EAAQ,CAAEhB,SAAAA,EAAUC,MAAAA,IAEpBgB,EAAO,CAAEjB,SAAAA,EAAUC,MAAAA,KAEpBA,KAxCPP,EAAK0B,iBAAiB,SAAUvB","file":"03-promises.7e20ece2.js","sourceRoot":"../src","sourcesContent":["const form = document.querySelector('.form');\n\nform.addEventListener('submit', onClickBtn);\n\nfunction onClickBtn(e) {\n  e.preventDefault();\n\n  let position = 0;\n  let delay = Number(e.currentTarget.delay.value);\n  let step = Number(e.currentTarget.step.value);\n  let amount = Number(e.currentTarget.amount.value);\n\n  setInterval(() => {\n    if (position >= amount) {\n      return;\n    }\n    position += 1;\n\n    setTimeout(() => {\n      delay += step;\n    });\n\n    createPromise(position, delay)\n      .then(({ position, delay }) => {\n        console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n      });\n  }, step);\n}\n\nfunction createPromise(position, delay) {\n  const promise = new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n\n  return promise;\n}\n"]}